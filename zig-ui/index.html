<!DOCTYPE html>
<html data-theme="light">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../docs/pico.min.css" />
  <link rel="stylesheet" href="../docs/docs.css" />
  <title>Cosmic UI Demo</title>
  <style>
    iframe#iframe {
      width: 100%;
      height: 100%;
    }
    :root main {
      grid-template-columns: 200px auto 0px;
    }
    html, body, main {
      height: 100%;
    }
    main.container-fluid {
      padding-right: 0px;
      padding-bottom: 0px;

    }
    body > main {
      grid-column-gap: 0px;
    }
    div.app {
      position: relative;
    }
    div#desc {
      position: absolute;
      left: 0px;
      top: 0px;
      width: 50%;
    }
    div#desc-src {
      padding-top: 20px;
    }
  </style>
  <script>
    // Set correct theme before rest of page loads.
    let theme = window.localStorage.getItem('theme')
    if (!theme) {
      theme = 'light'
    }
    document.documentElement.setAttribute('data-theme', theme);
  </script>
</head>
<body>
  <div class="top-nav grid">
    <div><h3><span class="primary">Cosmic</span> UI</h3></div>
    <div class="top-menu">
      <a href="https://github.com/fubark/cosmic/tree/master/ui" role="button" class="outline">Github</a>
      <a onclick="clickTheme()" href="#" role="button" class="outline">Theme</a>
    </div>
  </div>
  <main class="container-fluid">
      <aside><div>
        <nav>
            <!--
            <section class="main-links">
            <ul>
              <li><a href="index.html#about">About</a></li>
            </ul>
            </section>
          -->
            <section>
              <div class="category secondary">Demos</div>
              <ul>
                <li><a onclick="runExample('counter')" href="#">Counter</a></li>
                <li><a onclick="runExample('converter')" href="#">Converter</a></li>
                <li><a onclick="runExample('timer')" href="#">Timer</a></li>
                <li><a onclick="runExample('crud')" href="#">CRUD</a></li>
              </ul>
        </section>
      </nav></div>
      </aside>
    <div class="app">
        <iframe id="iframe"></iframe>
        <div id="desc">
          <div id="desc-body"></div>
          <div id="desc-src"></div>
        </div>
    </div>
</main>
<script>
  function runExample(name) {
    document.getElementById('iframe').src = `${name}/index.html`
    const desc = descs[name]
    if (desc) {
      document.getElementById('desc-body').innerHTML = `${desc.body}`
      document.getElementById('desc-src').innerHTML = `Source: <a href="${desc.srcUrl}">${desc.srcName}</a>`
    } else {
      document.getElementById('desc-body').innerHTML = ``
      document.getElementById('desc-src').innerHTML = ``
    }
  }
  const descs = {
    'counter': {
      body: 'These demos are not using any html/css/dom. They are cross platform UI primitives written in Zig. These demos are targeting WASM and rendered via WebGL2. This is the simplest GUI app. A counter that increases when you click the button.',
      srcName: 'counter.zig',
      srcUrl: 'https://github.com/fubark/cosmic/blob/master/ui/examples/counter.zig',
    },
    'converter': {
      body: 'This is a conversion tool. When you type a number in one box and press enter or click elsewhere, the converted value is updated in the other box.',
      srcName: 'converter.zig',
      srcUrl: 'https://github.com/fubark/cosmic/blob/master/ui/examples/converter.zig',
    },
    'timer': {
      body: 'This is a timer. The current tick is shown in a progress bar and as text. You can adjust the duration or reset the timer.',
      srcName: 'timer.zig',
      srcUrl: 'https://github.com/fubark/cosmic/blob/master/ui/examples/timer.zig',
    },
    'crud': {
      body: 'This is a simple CRUD app. You can insert/update/remove names from the list. The search just matches the prefix.',
      srcName: 'crud.zig',
      srcUrl: 'https://github.com/fubark/cosmic/blob/master/ui/examples/crud.zig',
    },
  }
  function clickTheme() {
    if (theme == 'light') {
      theme = 'dark'
    } else {
      theme = 'light'
    }
    window.localStorage.setItem('theme', theme)
    document.documentElement.setAttribute('data-theme', theme)
  }
  runExample('counter')
</script>
</body>
</html>